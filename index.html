<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music Recommendation</title>
    
    
    <script defer src="https://pyscript.net/alpha/pyscript.js"></script>
    <link rel="stylesheet" href="styles.css">
    <py-env>
        - pandas
    </py-env>

</head>
<body>
    <h1><strong>Song Recommendation</strong></h1>
    <div class="transbox">
        
        <form action="" name="Song_contents" id="contents" onsubmit="return false">
            
            <label for="songname">Song Name: </label>
            <input type="text" value="" name="songname" placeholder="Enter song's name" id="songname">
            <br><br>

            <label for="singer">Choose Singer: </label>
            <select name="singer" id="singer" required>
                <option value="select">--select--</option>
                <option value="arijit sighn">arijit sighn</option>
                <option value="jubin nautiyal">jubin nautiyal</option>
                <option value="lata mangeshkar">lata mangeshkar</option>
                <option value="darshan raval">darshan raval</option>
                <option value="neha kakkar">neha kakkar</option>
                <option value="atif aslam">atif aslam</option>
                <option value="kk">kk</option>
            </select>

            <br><br>

            <label for="emotion">Choose type of song: </label>
            <select name="emotion" id="emotion" required>
                <option value="select">--select--</option>
                <option value="sad">Sad</option>
                
                <option value="happy">happy</option>
            </select>

            <br><br><br><br>

            
            <input pys-onClick="sub" type="submit" value="submit" id="submit" onclick="">
        </form>
    </div>
    <h2>Results:</h2>
    <div id="searchbox" class="searchbox">
        <marquee behavior="" direction="down" id="view"></marquee>
    <py-script output="view">
        def sub(*args,**kwargs):
            import pandas as pd
            
            from pyodide.http import open_url
            df = pd.read_csv(open_url("https://raw.githubusercontent.com/anant710/Temp/main/dataset.csv")) 
            csv = Element('view')
            <!-- csv.write(df.head()) -->

            inputs = Element('singer').value
            emo = Element('emotion').value


            df.drop('no', inplace = True, axis = 1)
            if (inputs == 'arijit sighn' and emo == 'select'):
                data = df.where(df.singer_name  == 'arijit sighn')
                final_arijit = data.dropna()
                csv.write(final_arijit)
            elif (inputs == 'lata mangeshkar' and emo == 'select'):
                data = df.where(df.singer_name  == 'lata mangeshkar')
                singer = data.dropna()
                csv.write(singer)
            elif (inputs == 'jubin nautiyal' and emo == 'select'):
                data = df.where(df.singer_name  == 'jubin nautiyal')
                singer = data.dropna()
                csv.write(singer)
            elif (inputs == 'darshan raval' and emo == 'select'):
                data = df.where(df.singer_name  == 'darshan raval')
                singer = data.dropna()
                csv.write(singer)
            elif (inputs == 'neha kakkar' and emo == 'select'):
                data = df.where(df.singer_name  == 'neha kakkar')
                singer = data.dropna()
                csv.write(singer)
            elif (inputs == 'atif aslam' and emo == 'select'):
                data = df.where(df.singer_name  == 'atif aslam')
                singer = data.dropna()
                csv.write(singer)
            elif (inputs == 'kk' and emo == 'select'):
                data = df.where(df.singer_name  == 'kk')
                singer = data.dropna()
                csv.write(singer)
            elif (inputs == 'select' and emo == 'sad'):
                data = df.where(df.emotion == 'sad')
                emotion = data.dropna()
                csv.write(emotion)
            elif (inputs == 'select' and emo == 'happy'):
                data = df.where(df.emotion == 'happy')
                emotion = data.dropna()
                csv.write(emotion)
            elif (inputs == 'arijit sighn' and emo == 'sad'):
                data = df.where(df.singer_name  == 'arijit sighn')
                final_arijitsad = data.dropna()
                df1 = final_arijitsad
                
                data = df.where(df1.emotion == 'sad')
                final_sad_arigit = data.dropna()
                csv.write(final_sad_arigit)
            elif (inputs == 'arijit sighn' and emo == 'happy'):
                data = df.where(df.singer_name  == 'arijit sighn')
                final_arijitsad = data.dropna()
                df1 = final_arijitsad
                
                data = df.where(df1.emotion == 'happy')
                final_happy_arigit = data.dropna()
                csv.write(final_happy_arigit)
            elif (inputs == 'lata mangeshkar' and emo == 'sad'):
                data = df.where(df.singer_name  == 'lata mangeshkar')
                final_latasad = data.dropna()
                df1 = final_latasad
                
                data = df.where(df1.emotion == 'sad')
                final_sad_lata = data.dropna()
                csv.write(final_sad_lata)
            elif (inputs == 'jubin nautiyal' and emo == 'sad'):
                data = df.where(df.singer_name  == 'jubin nautiyal')
                final_jubsad = data.dropna()
                df1 = final_jubsad
                
                data = df.where(df1.emotion == 'sad')
                final_sad_jub = data.dropna()
                csv.write(final_sad_jub)
            elif (inputs == 'jubin nautiyal' and emo == 'happy'):
                data = df.where(df.singer_name  == 'jubin nautiyal')
                final_jubhappy = data.dropna()
                df1 = final_jubhappy
                
                data = df.where(df1.emotion == 'happy')
                final_happy_jub = data.dropna()
                csv.write(final_happy_jub)
            elif (inputs == 'lata mangeshkar' and emo == 'happy'):
                data = df.where(df.singer_name  == 'lata mangeshkar')
                final_lata = data.dropna()
                df1 = final_lata
                
                data = df.where(df1.emotion == 'happy')
                final_happy_lata = data.dropna()
                csv.write(final_happy_lata)
            elif (inputs == 'atif aslam' and emo == 'sad'):
                data = df.where(df.singer_name  == 'atif aslam')
                final_arijitsad = data.dropna()
                df1 = final_arijitsad
                
                data = df.where(df1.emotion == 'sad')
                final_sad_arigit = data.dropna()
                csv.write(final_sad_arigit)
            elif (inputs == 'neha kakkar' and emo == 'sad'):
                data = df.where(df.singer_name  == 'neha kakkar')
                final_arijitsad = data.dropna()
                df1 = final_arijitsad
                
                data = df.where(df1.emotion == 'sad')
                final_sad_arigit = data.dropna()
                csv.write(final_sad_arigit)
            elif (inputs == 'kk' and emo == 'sad'):
                data = df.where(df.singer_name  == 'kk')
                final_arijitsad = data.dropna()
                df1 = final_arijitsad
                
                data = df.where(df1.emotion == 'sad')
                final_sad_arigit = data.dropna()
                csv.write(final_sad_arigit)
            
            elif (inputs == 'darshan raval' and emo == 'sad'):
                data = df.where(df.singer_name  == 'darshan raval')
                final_arijitsad = data.dropna()
                df1 = final_arijitsad
                
                data = df.where(df1.emotion == 'sad')
                final_sad_arigit = data.dropna()
                csv.write(final_sad_arigit)
            
            elif (inputs == 'atif aslam' and emo == 'happy'):
                data = df.where(df.singer_name  == 'atif aslam')
                final_arijitsad = data.dropna()
                df1 = final_arijitsad
                
                data = df.where(df1.emotion == 'happy')
                final_sad_arigit = data.dropna()
                csv.write(final_sad_arigit)
            elif (inputs == 'neha kakkar' and emo == 'happy'):
                data = df.where(df.singer_name  == 'neha kakkar')
                final_arijitsad = data.dropna()
                df1 = final_arijitsad
                
                data = df.where(df1.emotion == 'happy')
                final_sad_arigit = data.dropna()
                csv.write(final_sad_arigit)
            elif (inputs == 'kk' and emo == 'happy'):
                data = df.where(df.singer_name  == 'kk')
                final_arijitsad = data.dropna()
                df1 = final_arijitsad
                
                data = df.where(df1.emotion == 'happy')
                final_sad_arigit = data.dropna()
                csv.write(final_sad_arigit)
            
            elif (inputs == 'darshan raval' and emo == 'happy'):
                data = df.where(df.singer_name  == 'darshan raval')
                final_arijitsad = data.dropna()
                df1 = final_arijitsad
                
                data = df.where(df1.emotion == 'happy')
                final_sad_arigit = data.dropna()
                csv.write(final_sad_arigit)
            else:
                print("wrong singer or emotion")

    </py-script>
    </div>

</body>
</html>